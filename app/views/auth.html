<h3>Authentification au service</h3>

<hr>

<div class="row">
	<div class="col-lg-5">
		<p><strong>Êtes-vous déjà client du drive ?</strong></p>
		<div class="panel panel-default">
			<div class="panel-heading"><h3 class="panel-title"><strong>Connectez vous</strong></h3></div>
			<div class="panel-body">
				<form role="form" ng-submit="login()">
					<div class="form-group">
						<label>Adresse e-mail</label>
						<input type="email" class="form-control" ng-model="user.email" placeholder="Entrer votre e-mail">
					</div>
					<div class="form-group">
						<label>Mot de passe <a href="/sessions/forgot_password">(oublié ?)</a></label>
						<input type="password" class="form-control" ng-model="user.password" placeholder="Entre votre mot de passe">
					</div>
					<button type="submit" class="btn btn-sm btn-primary pull-right">Connexion</button>
				</form>
			</div>
		</div>
	</div>
	<div class="col-lg-7">
		<p><strong>Si non, remplissez le formulaire suivant pour profiter du service</strong></p>
		<div class="panel panel-default">
			<div class="panel-heading"><h3 class="panel-title"><strong>Inscription</strong></h3></div>
			<div class="panel-body">
				<form name="registerForm" ng-submit="register()">
					<div class="form-group">
						<label>Nom</label>
						<input type="text" class="form-control" ng-minlength=2 ng-model="customer.lastname" placeholder="Entrer votre nom" required>
					</div>
					<div class="form-group">
						<label>Prénom</label>
						<input type="text" class="form-control" ng-minlength=2 ng-model="customer.firstname" placeholder="Entrer votre prénom" required>
					</div>
					<div class="form-group">
						<label>Adresse e-mail</label>
						<input type="email" class="form-control" ng-minlength=2 ng-model="customer.email" placeholder="Entrer votre e-mail" required>
					</div>
					<div class="form-group">
						<label>Mot de passe</label>
						<input type="password" class="form-control" ng-minlength=2 ng-model="customer.password" required>
					</div>
					<div class="form-group">
						<label>Téléphone</label>
						<input type="text" class="form-control" ng-minlength=2 ng-model="customer.phone" placeholder="Entrer votre adresse" required>
					</div>
					<div class="form-group">
						<label>Adresse</label>
						<input type="text" class="form-control" ng-minlength=2 ng-model="customer.address" placeholder="Entrer votre adresse" required>
					</div>
					<div class="form-group">
						<label>Code postal</label>
						<input type="text" class="form-control" ng-minlength=2 ng-model="customer.zip" placeholder="Entrer votre code postal" required>
					</div>
					<div class="form-group">
						<label>Ville</label>
						<input type="text" class="form-control" ng-minlength=2 ng-model="customer.city" placeholder="Entrer votre ville" required>
					</div>
					<div class="alert alert-info" ng-show="registerForm.$invalid">Tous les champs sont obligatoires.</div>
					<div class="alert alert-danger" ng-show="step == 2">Votre adresse e-mail est invalide ou déjà utilisée, veuillez en saisir une nouvelle.</div>
					<div ng-show="step == 3">
						<div class="alert alert-success">Votre adresse e-mail est valide. Vous allez recevoir dans quelques secondes un e-mail contenant un code, merci de le reporter ci-dessous.</div>
						<div class="form-group">
							<label>Code de vérification</label>
							<input type="text" class="form-control" ng-model="customer.code" placeholder="Entrer le code">
						</div>
					</div>
					<button type="submit" class="btn btn-sm btn-primary pull-right" ng-if="step == 0 || step == 2" ng-disabled="registerForm.$invalid">Vérifier mon e-mail</button>
					<button type="submit" class="btn btn-sm btn-primary pull-right" ng-if="step == 1" disabled><span class="fa fa-circle-o-notch fa-spin"></span> Vérification en cours</button>
					<button type="submit" class="btn btn-sm btn-success pull-right" ng-if="step == 3" ng-disabled="! (customer.code.length == 4)">S'inscrire</button>
					<button type="submit" class="btn btn-sm btn-primary pull-right" ng-if="step == 4" disabled><span class="fa fa-circle-o-notch fa-spin"></span> Enregistrement</button>
				</form>
			</div>
		</div>
	</div>
</div>